function logError(a){}function call_fb(){var a='<iframe src="http://www.facebook.com/plugins/like.php?app_id=136625046417023&href=http%3A%2F%2Fwww.facebook.com%2Fpages%2FBuildzoom%2F204160919594027&send=false&layout=button_count&width=450&show_faces=false&action=like&colorscheme=light&font&height=21" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:450px; height:21px;" allowTransparency="true"></iframe>';setTimeout(function(){$("#fb_like").append(a)},2000)}function adjustWidth(a){if(BrowserDetect.browser=="MSIE"&&parseInt($.browser.version)==9){$("."+a).width($("#slideshow").width())}else{$("."+a).width($(document).width())}}function openTab(){var a=location.hash;if(a!=""){if($(a).length>0){$(".simpletab").removeClass("active");$(a).addClass("active")}}}function func_headsearch(){var a=$('#frm-headsearch [name="txt_search_loc"]').val();var c=$('#frm-headsearch [name="txt_search_key"]').val();var b=0;if(c.length<3||c==$('#frm-headsearch [name="txt_search_key"]').attr("placeholder")){$('#frm-headsearch [name="txt_search_key"]').next(".field").show();b++}else{$('#frm-headsearch [name="txt_search_key"]').next(".field").hide()}if(a.length==0){a=""}if(b==0){str_key=func_clean_str(c);str_location=func_clean_str(a);location.href="/find/contractors?keywords="+str_key+"&zip="+str_location}return false}function func_shortsearch(){var a=$('#frm-category [name="shortcut-category-zip"]').val();var c=$('#frm-category [name="shortcut-category"]').val();var b=0;if(c.length<3||c==$('#frm-category [name="shortcut-category"]').attr("placeholder")){$('#frm-category [name="shortcut-category"]').next(".field").show();b++}else{$('#frm-category [name="shortcut-category"]').next(".field").hide()}if(a.length<5){$('#frm-category [name="shortcut-category-zip"]').next(".zip").show();b++}else{$('#frm-category [name="shortcut-category-zip"]').next(".zip").hide()}if(b==0){str_key=func_clean_str(c);str_location=func_clean_str(a);location.href="/find/contractors?keywords="+str_key+"&zip="+str_location}return false}function func_postsearch(){var a=$('#frm-search [name="txt_zipcode"]').val();var c=$('#frm-search [name="txt_search"]').val();var b=0;if(c.length<3||c==$('#frm-search [name="txt_search"]').attr("placeholder")){$('#frm-search [name="txt_search"]').next(".field").show();b++}else{$('#frm-search [name="txt_search"]').next(".field").hide()}if(a.length<5){$('#frm-search [name="txt_zipcode"]').next(".zip").show();b++}else{$('#frm-search [name="txt_zipcode"]').next(".zip").hide()}if(b==0){str_key=func_clean_str(c);str_location=func_clean_str(a);location.href="/find/contractors?keywords="+str_key+"&zip="+str_location}return false}function func_postrequest(){var a=$('#frm-request [name="txt_service"]').val();var c=$('#frm-request [name="txt_zipcode"]').val();var b=0;if(a.length<3){$('#frm-request [name="txt_service"]').next(".field").show();b++}else{$('#frm-request [name="txt_service"]').next(".field").hide()}if(c.length<5){$('#frm-request [name="txt_zipcode"]').next(".zip").show();b++}else{$('#frm-request [name="txt_zipcode"]').next(".zip").hide()}if(b==0){var d='<form action="http://admin.buildzoom.com/service_requests/new" method="post" class="hidden" id="frm_append_request">';if(a.length){d+='<input type="hidden" name="s_request" value="'+a+'">'}if(c.length){d+='<input type="hidden" name="s_zipcode" value="'+c+'">'}d+="</form>";$("body").append(d);$("#frm_append_request").submit()}return false}function func_postjob(){var a=$("#txt_search_key").val();var c=$("#txt_search_loc").val();var b='<form action="/service-request" method="post" class="hidden" id="frm_bid">';if(a.length){b+='<input type="hidden" name="s_request" value="'+a+'">'}if(c.length){b+='<input type="hidden" name="s_zipcode" value="'+c+'">'}b+="</form>";$("body").append(b);$("#frm_bid").submit()}function func_goto(a){var b=$(a).val();if(b.length<5){$(a).next(".zip").show();return false}else{$(a).next(".zip").hide();location.href="/search//in/"+b;return false}}function func_alert_box(a){$.colorbox({html:'<div style="color:#777;height:60px;width:300px;text-align:center;padding:15px;"><div style="font-weight:700;text-align:center;font-size:14px;">'+a+'</div><div style="width:110px;margin:15px auto 5px;"><a href="javascript:void(0);" onclick="$.colorbox.close();" class="kewlbutton"><span style="width:80px;text-align:center;">Okay</span></a></div></div>'})}function func_search_validation(a,c){var b="";if(!a&&c){b+="<p>Please provide keyword to search</p>"}if(!c&&a){b+="<p>Please provide location to search</p>"}return b}function func_search(){var a=$("#txt_search_key").val();var c=$("#txt_search_area").val();if(a.length<3||a==$("#txt_search_key").attr("placeholder")){var b='<div style="width:400px"><div><p>Please enter a keyword.</p><div class="clearer" style="height:15px;"></div><a href="javascript: void(0);" class="nbtn-blue" onclick="$.colorbox.close();"><span>Close</span></a></div></div>';$.colorbox({html:b});return false}if(c.length<2||c=="Zip"){c=""}a=func_clean_str(a);c=func_clean_str(c);$("#frm_search").attr("action","/find/contractors?keywords="+a+"&zip="+c);$("#frm_search").submit()}function func_clean_url(a){var b=[";","@","!","$","*","&","(",")","+",":","|","?"];$.each(b,function(c,d){a=a.replace(d,"")});return a}function func_clean_str(a){var b="";$.each(a.split(""),function(c,d){b+=func_clean_url(d)});return $.trim(b)}function customdropdown(){$("#customDropdown").unbind('change').on("change",function(){$("#main").height(735);$("#topcontractor, .rank, #main .container h3").fadeOut("slow");var a=$(this).val();$.ajax({cache: false, url:"index/top5/"+a,dataType:"html",success:function(s_response,s_status,jx){$("#main").html(s_response);$("#main").find("[data-i_contractor]").each(function(){$(this).error(function(){swap_dead(this)})});$("#customDropdown").removeClass("hidden");$('ul.states li[group="'+a+'"]').click();init_drop();customdropdown()}})})}function init_drop(){if(BrowserDetect.browser!="Opera"){$("select.select").each(function(){var a=$(this).attr("title");if($("option:selected",this).val()!=""){a=$("option:selected",this).text()}$(this).css({"z-index":10,opacity:0,"-khtml-appearance":"none"}).after('<span class="select">'+a+"</span>").change(function(){val=$("option:selected",this).text();$(this).next().text(val)})})}}function swap_dead(a){s_template="http://olds3.buildzoom.com/_assets/industries/"+$(a).attr("data-s_version")+"/"+a_templates[Math.floor(Math.random()*a_templates.length)];$(a).attr("src",s_template);if($(a).attr("data-i_contractor")&&$(a).attr("data-i_photo")&&$(a).attr("data-s_version")){a=$(a)}}function load_areas(){$("ul.states li").on("click",function(){var a=$(this).attr("group");$("ul.states li").removeClass("selected");$(this).addClass("selected");$("section.areas").addClass("hidden").hide();$("#metro-"+a).removeClass("hidden").show()});$(".tab-btns a").click(function(a){a.preventDefault();dropTab($(this).attr("href"));return false})}function dropTab(a){$(".drop-tab").hide();$(a).show()}if(typeof window!="undefined"){window.onerror=function(a,c,b){logError(c+" --> line number: "+b+" --> "+a+" URL -->"+window.location.href+" OS/BROWSER -->"+navigator.userAgent)}}+function(d){function f(){d(c).remove();d(g).each(function(e){var i=b(d(this));if(!i.hasClass("open")){return}i.trigger(e=d.Event("hide.bs.dropdown"));if(e.isDefaultPrevented()){return}i.removeClass("open").trigger("hidden.bs.dropdown")})}function b(i){var e=i.attr("data-target");if(!e){e=i.attr("href");e=e&&/#/.test(e)&&e.replace(/.*(?=#[^\s]*$)/,"")}var j=e&&d(e);return j&&j.length?j:i.parent()}var c=".dropdown-backdrop";var g="[data-toggle=dropdown]";var a=function(e){d(e).on("click.bs.dropdown",this.toggle)};a.prototype.toggle=function(j){var i=d(this);if(i.is(".disabled, :disabled")){return}var k=b(i);var e=k.hasClass("open");f();if(!e){if("ontouchstart" in document.documentElement&&!k.closest(".navbar-nav").length){d('<div class="dropdown-backdrop"/>').insertAfter(d(this)).on("click",f)}k.trigger(j=d.Event("show.bs.dropdown"));if(j.isDefaultPrevented()){return}k.toggleClass("open").trigger("shown.bs.dropdown");i.focus()}return false};a.prototype.keydown=function(k){if(!/(38|40|27)/.test(k.keyCode)){return}var e=d(this);k.preventDefault();k.stopPropagation();if(e.is(".disabled, :disabled")){return}var m=b(e);var n=m.hasClass("open");if(!n||n&&k.keyCode==27){if(k.which==27){m.find(g).focus()}return e.click()}var l=d("[role=menu] li:not(.divider):visible a",m);if(!l.length){return}var j=l.index(l.filter(":focus"));if(k.keyCode==38&&j>0){j--}if(k.keyCode==40&&j<l.length-1){j++}if(!~j){j=0}l.eq(j).focus()};var h=d.fn.dropdown;d.fn.dropdown=function(e){return this.each(function(){var k=d(this);var j=k.data("bs.dropdown");if(!j){k.data("bs.dropdown",j=new a(this))}if(typeof e=="string"){j[e].call(k)}})};d.fn.dropdown.Constructor=a;d.fn.dropdown.noConflict=function(){d.fn.dropdown=h;return this};d(document).on("click.bs.dropdown.data-api",f).on("click.bs.dropdown.data-api",".dropdown form",function(i){i.stopPropagation()}).on("click.bs.dropdown.data-api",g,a.prototype.toggle).on("keydown.bs.dropdown.data-api",g+", [role=menu]",a.prototype.keydown)}(jQuery);$(window).load(function(){});(function(p,k,v){function h(a){var c={},f=/^jQuery\d+$/;v.each(a.attributes,function(i,l){if(l.specified&&!f.test(l.name)){c[l.name]=l.value}});return c}function x(c,l){var f=this,a=v(f);if(f.value==a.attr("placeholder")&&a.hasClass("placeholder")){if(a.data("placeholder-password")){a=a.hide().next().show().attr("id",a.removeAttr("id").data("placeholder-id"));if(c===true){return a[0].value=l}a.focus()}else{f.value="";a.removeClass("placeholder");f==k.activeElement&&f.select()}}}function b(){var l,f=this,a=v(f),n=a,c=this.id;if(f.value==""){if(f.type=="password"){if(!a.data("placeholder-textinput")){try{l=a.clone().attr({type:"text"})}catch(u){l=v("<input>").attr(v.extend(h(this),{type:"text"}))}l.removeAttr("name").data({"placeholder-password":true,"placeholder-id":c}).bind("focus.placeholder",x);a.data({"placeholder-textinput":l,"placeholder-id":c}).before(l)}a=a.removeAttr("id").hide().prev().attr("id",c).show()}a.addClass("placeholder");a[0].value=a.attr("placeholder")}else{a.removeClass("placeholder")}}var d="placeholder" in k.createElement("input"),q="placeholder" in k.createElement("textarea"),g=v.fn,w=v.valHooks,m,j;if(d&&q){j=g.placeholder=function(){return this};j.input=j.textarea=true}else{j=g.placeholder=function(){var a=this;a.filter((d?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":x,"blur.placeholder":b}).data("placeholder-enabled",true).trigger("blur.placeholder");return a};j.input=d;j.textarea=q;m={get:function(a){var c=v(a);return c.data("placeholder-enabled")&&c.hasClass("placeholder")?"":a.value},set:function(a,f){var c=v(a);if(!c.data("placeholder-enabled")){return a.value=f}if(f==""){a.value=f;if(a!=k.activeElement){b.call(a)}}else{if(c.hasClass("placeholder")){x.call(a,true,f)||(a.value=f)}else{a.value=f}}return c}};d||(w.input=m);q||(w.textarea=m);v(function(){v(k).delegate("form","submit.placeholder",function(){var a=v(".placeholder",this).each(x);setTimeout(function(){a.each(b)},10)})});v(p).bind("beforeunload.placeholder",function(){v(".placeholder").each(function(){this.value=""})})}})(this,document,jQuery);(function(a3,aN){function aY(a,b){a=a?' id="'+aM+a+'"':"";b=b?' style="'+b+'"':"";return a3("<div"+a+b+"/>")}function aR(a,b){b=b===aV?aK.width():aK.height();return typeof a==="string"?Math.round(/%/.test(a)?b/100*parseInt(a,10):parseInt(a,10)):a}function aJ(a){return a9.photo||/\.(gif|png|jpg|jpeg|bmp)(?:\?([^#]*))?(?:#(\.*))?$/i.test(a)}function a2(a){for(var b in a){if(a3.isFunction(a[b])&&b.substring(0,2)!=="on"){a[b]=a[b].call(ab)}}a.rel=a.rel||ab.rel||a0;a.href=a.href||a3(ab).attr("href");a.title=a.title||ab.title;return a}function aL(a,b){b&&b.call(ab);a3.event.trigger(a)}function aW(){var a,d=aM+"Slideshow_",c="click."+aM,f,b;if(a9.slideshow&&aq[1]){f=function(){aj.text(a9.slideshowStop).unbind(c).bind(aE,function(){if(a6<aq.length-1||a9.loop){a=setTimeout(ba.next,a9.slideshowSpeed)}}).bind(ag,function(){clearTimeout(a)}).one(c+" "+al,b);ae.removeClass(d+"off").addClass(d+"on");a=setTimeout(ba.next,a9.slideshowSpeed)};b=function(){clearTimeout(a);aj.text(a9.slideshowStart).unbind([aE,ag,al,c].join(" ")).one(c,f);ae.removeClass(d+"on").addClass(d+"off")};a9.slideshowAuto?f():b()}}function a1(a){if(!a5){ab=a;a9=a2(a3.extend({},a3.data(ab,aX)));aq=a3(ab);a6=0;if(a9.rel!==a0){aq=a3("."+a7).filter(function(){return(a3.data(this,aX).rel||this.rel)===a9.rel});a6=aq.index(ab);if(a6===-1){aq=aq.add(ab);a6=aq.length-1}}if(!a4){a4=a8=aZ;ae.show();if(a9.returnFocus){try{ab.blur();a3(ab).one(ar,function(){try{this.focus()}catch(c){}})}catch(b){}}av.css({opacity:+a9.opacity,cursor:a9.overlayClose?"pointer":aO}).show();a9.w=aR(a9.initialWidth,aV);a9.h=aR(a9.initialHeight,aU);ba.position(0);ay&&aK.bind(aI+at+" scroll."+at,function(){av.css({width:aK.width(),height:aK.height(),top:aK.scrollTop(),left:aK.scrollLeft()})}).trigger("scroll."+at);aL(aC,a9.onOpen);ac.add(an).add(aG).add(aj).add(ak).hide();ao.html(a9.close).show()}ba.load(aZ)}}var aT="none",aH="LoadedContent",aS=false,aI="resize.",aU="y",aO="auto",aZ=true,a0="nofollow",aV="x";var aF={transition:"elastic",speed:300,width:aS,initialWidth:"600",innerWidth:aS,maxWidth:aS,height:aS,initialHeight:"450",innerHeight:aS,maxHeight:aS,scalePhotos:aZ,scrolling:aZ,inline:aS,html:aS,iframe:aS,photo:aS,href:aS,title:aS,rel:aS,opacity:0.6,preloading:aZ,current:"image {current} of {total}",previous:"previous",next:"next",close:"close",open:aS,returnFocus:aZ,loop:aZ,slideshow:aS,slideshowAuto:aZ,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",onOpen:aS,onLoad:aS,onComplete:aS,onCleanup:aS,onClosed:aS,overlayClose:aZ,escKey:aZ,arrowKey:aZ},aX="colorbox",aM="cbox",aC=aM+"_open",ag=aM+"_load",aE=aM+"_complete",al=aM+"_cleanup",ar=aM+"_closed",ax=aM+"_purge",aQ=aM+"_loaded",au=BrowserDetect.browser=="MSIE"&&!a3.support.opacity,ay=au&&a3.browser.version<7,at=aM+"_IE6",av,ae,aB,ah,ap,aw,aP,az,aq,aK,af,am,aD,ak,ac,aj,aG,an,ao,ai,aA,ad,aa,ab,a6,a9,a4,a8,a5=aS,ba,a7=aM+"Element";ba=a3.fn[aX]=a3[aX]=function(c,b){var d=this,a;if(!d[0]&&d.selector){return d}c=c||{};if(b){c.onComplete=b}if(!d[0]||d.selector===undefined){d=a3("<a/>");c.open=aZ}d.each(function(){a3.data(this,aX,a3.extend({},a3.data(this,aX)||aF,c));a3(this).addClass(a7)});a=c.open;if(a3.isFunction(a)){a=a.call(d)}a&&a1(d[0]);return d};ba.init=function(){var a="hover",b="clear:left";aK=a3(aN);ae=aY().attr({id:aX,"class":au?aM+"IE":""});av=aY("Overlay",ay?"position:absolute":"").hide();aB=aY("Wrapper").append(ao=aY("Close"));ah=aY("Content").append(af=aY(aH,"width:0; height:0; overflow:hidden"),aD=aY("LoadingOverlay").add(aY("LoadingGraphic")),ak=aY("Title"),ac=aY("Current"),aG=aY("Next"),an=aY("Previous"),aj=aY("Slideshow").bind(aC,aW));aB.append(aY().append(aY("TopLeft"),ap=aY("TopCenter"),aY("TopRight")),aY(aS,b).append(aw=aY("MiddleLeft"),ah,aP=aY("MiddleRight")),aY(aS,b).append(aY("BottomLeft"),az=aY("BottomCenter"),aY("BottomRight"))).children().children().css({"float":"left"});am=aY(aS,"position:absolute; width:9999px; visibility:hidden; display:none");a3("body").prepend(av,ae.append(aB,am));ah.children().hover(function(){a3(this).addClass(a)},function(){a3(this).removeClass(a)}).addClass(a);ai=ap.height()+az.height()+ah.outerHeight(aZ)-ah.height();aA=aw.width()+aP.width()+ah.outerWidth(aZ)-ah.width();ad=af.outerHeight(aZ);aa=af.outerWidth(aZ);ae.css({"padding-bottom":ai,"padding-right":aA}).hide();aG.click(ba.next);an.click(ba.prev);ao.click(ba.close);ah.children().removeClass(a);a3("."+a7).on("click",function(c){if(!(c.button!==0&&typeof c.button!=="undefined"||c.ctrlKey||c.shiftKey||c.altKey)){c.preventDefault();a1(this)}});av.click(function(){a9.overlayClose&&ba.close()});a3(document).bind("keydown",function(c){if(a4&&a9.escKey&&c.keyCode===27){c.preventDefault();ba.close()}if(a4&&a9.arrowKey&&!a8&&aq[1]){if(c.keyCode===37&&(a6||a9.loop)){c.preventDefault();an.click()}else{if(c.keyCode===39&&(a6<aq.length-1||a9.loop)){c.preventDefault();aG.click()}}}})};ba.remove=function(){ae.add(av).remove();a3("."+a7).die("click").removeData(aX).removeClass(a7)};ba.position=function(d,c){function f(h){ap[0].style.width=az[0].style.width=ah[0].style.width=h.style.width;aD[0].style.height=aD[1].style.height=ah[0].style.height=aw[0].style.height=aP[0].style.height=h.style.height}var a,b=Math.max(document.documentElement.clientHeight-a9.h-ad-ai,0)/2+aK.scrollTop(),g=Math.max(aK.width()-a9.w-aa-aA,0)/2+aK.scrollLeft();a=ae.width()===a9.w+aa&&ae.height()===a9.h+ad?0:d;aB[0].style.width=aB[0].style.height="9999px";ae.dequeue().animate({width:a9.w+aa,height:a9.h+ad,top:20,left:g},{duration:a,complete:function(){f(this);a8=aS;aB[0].style.width=a9.w+aa+aA+"px";aB[0].style.height=a9.h+ad+ai+"px";c&&c()},step:function(){f(this)}})};ba.resize=function(a){if(a4){a=a||{};if(a.width){a9.w=aR(a.width,aV)-aa-aA}if(a.innerWidth){a9.w=aR(a.innerWidth,aV)}af.css({width:a9.w});if(a.height){a9.h=aR(a.height,aU)-ad-ai}if(a.innerHeight){a9.h=aR(a.innerHeight,aU)}if(!a.innerHeight&&!a.height){a=af.wrapInner("<div style='overflow:auto'></div>").children();a9.h=a.height();a.replaceWith(a.children())}af.css({height:a9.h});ba.position(a9.transition===aT?0:a9.speed)}};ba.prep=function(d){function g(f){var k,a,j,m,h=aq.length,p=a9.loop;ba.position(f,function(){function i(){au&&ae[0].style.removeAttribute("filter")}if(a4){au&&e&&af.fadeIn(100);af.show();aL(aQ);ak.show().html(a9.title);if(h>1){typeof a9.current==="string"&&ac.html(a9.current.replace(/\{current\}/,a6+1).replace(/\{total\}/,h)).show();aG[p||a6<h-1?"show":"hide"]().html(a9.next);an[p||a6?"show":"hide"]().html(a9.previous);k=a6?aq[a6-1]:aq[h-1];j=a6<h-1?aq[a6+1]:aq[0];a9.slideshow&&aj.show();if(a9.preloading){m=a3.data(j,aX).href||j.href;a=a3.data(k,aX).href||k.href;m=a3.isFunction(m)?m.call(j):m;a=a3.isFunction(a)?a.call(k):a;if(aJ(m)){a3("<img/>")[0].src=m}if(aJ(a)){a3("<img/>")[0].src=a}}}aD.hide();a9.transition==="fade"?ae.fadeTo(c,1,function(){i()}):i();aK.bind(aI+aM,function(){ba.position(0)});aL(aE,a9.onComplete)}})}var b="hidden";if(a4){var e,c=a9.transition===aT?0:a9.speed;aK.unbind(aI+aM);af.remove();af=aY(aH).html(d);af.hide().appendTo(am.show()).css({width:function(){a9.w=a9.w||af.width();a9.w=a9.mw&&a9.mw<a9.w?a9.mw:a9.w;return a9.w}(),overflow:a9.scrolling?aO:b}).css({height:function(){a9.h=a9.h||af.height();a9.h=a9.mh&&a9.mh<a9.h?a9.mh:a9.h;return a9.h}()}).prependTo(ah);am.hide();a3("#"+aM+"Photo").css({cssFloat:aT,marginLeft:aO,marginRight:aO});ay&&a3("select").not(ae.find("select")).filter(function(){return this.style.visibility!==b}).css({visibility:b}).one(al,function(){this.style.visibility="inherit"});a9.transition==="fade"?ae.fadeTo(c,0,function(){g(0)}):g(c)}};ba.load=function(d){var e,b,a,c=ba.prep;a8=aZ;ab=aq[a6];d||(a9=a2(a3.extend({},a3.data(ab,aX))));aL(ax);aL(ag,a9.onLoad);a9.h=a9.height?aR(a9.height,aU)-ad-ai:a9.innerHeight&&aR(a9.innerHeight,aU);a9.w=a9.width?aR(a9.width,aV)-aa-aA:a9.innerWidth&&aR(a9.innerWidth,aV);a9.mw=a9.w;a9.mh=a9.h;if(a9.maxWidth){a9.mw=aR(a9.maxWidth,aV)-aa-aA;a9.mw=a9.w&&a9.w<a9.mw?a9.w:a9.mw}if(a9.maxHeight){a9.mh=aR(a9.maxHeight,aU)-ad-ai;a9.mh=a9.h&&a9.h<a9.mh?a9.h:a9.mh}e=a9.href;aD.show();if(a9.inline){aY().hide().insertBefore(a3(e)[0]).one(ax,function(){a3(this).replaceWith(af.children())});c(a3(e))}else{if(a9.iframe){ae.one(aQ,function(){var f=a3("<iframe frameborder='0' style='width:100%; height:100%; border:0; display:block'/>")[0];f.name=aM+ +(new Date);f.src=a9.href;if(!a9.scrolling){f.scrolling="no"}if(au){f.allowtransparency="true"}a3(f).appendTo(af).one(ax,function(){f.src="//about:blank"})});c(" ")}else{if(a9.html){c(a9.html)}else{if(aJ(e)){b=new Image;b.onload=function(){var f;b.onload=null;b.id=aM+"Photo";a3(b).css({border:aT,display:"block",cssFloat:"left"});if(a9.scalePhotos){a=function(){b.height-=b.height*f;b.width-=b.width*f};if(a9.mw&&b.width>a9.mw){f=(b.width-a9.mw)/b.width;a()}if(a9.mh&&b.height>a9.mh){f=(b.height-a9.mh)/b.height;a()}}if(a9.h){b.style.marginTop=Math.max(a9.h-b.height,0)/2+"px"}aq[1]&&(a6<aq.length-1||a9.loop)&&a3(b).css({cursor:"pointer"}).click(ba.next);if(au){b.style.msInterpolationMode="bicubic"}setTimeout(function(){c(b)},1)};setTimeout(function(){b.src=e},1)}else{e&&am.load(e,function(g,f,h){c(f==="error"?"Request unsuccessful: "+h.statusText:a3(this).children())})}}}}};ba.next=function(){if(!a8){a6=a6<aq.length-1?a6+1:0;ba.load()}};ba.prev=function(){if(!a8){a6=a6?a6-1:aq.length-1;ba.load()}};ba.close=function(){if(a4&&!a5){a5=aZ;a4=aS;aL(al,a9.onCleanup);aK.unbind("."+aM+" ."+at);av.fadeTo("fast",0);ae.stop().fadeTo("fast",0,function(){aL(ax);af.remove();ae.add(av).css({opacity:1,cursor:aO}).hide();setTimeout(function(){a5=aS;aL(ar,a9.onClosed)},1)})}};ba.element=function(){return a3(ab)};ba.settings=aF;a3(ba.init)})(jQuery,this);$(function(){$("[placeholder]").placeholder();if(typeof s_arr!="undefined"){$.each(s_arr,function(b,c){$("#slide-"+(b+1)).append('<img src="'+c+'" class="bigimage">')})}customdropdown();if(BrowserDetect.browser=="MSIE"&&parseInt($.browser.version)<9){if($(document).width()==1024||screen.width==1024){$("#featured, #slideshow, #slide-holder, #tabs-form").height("465px");$(".tabs").css("margin-top","3px")}var a=parseInt(screen.width)-parseInt(screen.width)*0.0124450951683748+"px";$("#slideshow, .slideitem, .bigimage").width(a)}else{adjustWidth("slideitem")}$("#customDropdown").removeClass("hidden");if(location.hash=="#browsebycity"){$(".browse").show()}openTab()});$("#btn-help").click(function(){func_postjob()});$('#txt_search_loc ,#frm-browse [name="txt_zipcode"], #frm-search [name="txt_zipcode"], #frm-request [name="txt_zipcode"],#frm-category [name="shortcut-category-zip"] ').keydown(function(a){if(a.keyCode==46||a.keyCode==8||a.keyCode==9||a.ctrlKey==true&&(a.keyCode==118||a.keyCode==86)||a.metaKey==true&&(a.keyCode==118||a.keyCode==86)){}else{if((a.keyCode<48||a.keyCode>57)&&(a.keyCode<96||a.keyCode>105)){a.preventDefault()}}});$("#frm-browse").submit(function(){var a=$('#frm-browse [name="txt_zipcode"]');var b=a.val();if(b.length<5){$(a).next(".zip").show();return false}else{$(a).next(".zip").hide();location.href="/msa/"+b;return false}});$('#frm-category [name="shortcut-category"], #frm-category [name="shortcut-category-zip"]').keydown(function(a){if(a.keyCode==13){a.preventDefault();func_shortsearch();return false}});$("#frm-category").submit(function(){func_shortsearch();return false});$("#frm-headsearch").submit(function(){func_headsearch();return false});$('#frm-browse [name="txt_zipcode"]').keydown(function(a){if(a.keyCode==13){a.preventDefault();$("#frm-browse").submit()}});$("#frm-search").submit(function(a){a.preventDefault();func_postsearch();return false});$('#frm-search [name="txt_search"], #frm-search [name="txt_zipcode"]').keydown(function(a){if(a.keyCode==13){a.preventDefault();func_postsearch();return false}});$("#shortcut-location, #shortcut-contractor").keydown(function(a){if(a.keyCode==13){a.preventDefault();var b=$(this).val();if(b.length>0){$(this).next(".field").hide();str_key=func_clean_str(b);if($(this).attr("id")=="shortcut-location"){if(isNaN(b)){location.href="/find/contractors?keywords=general&city="+b}else{location.href="/find/contractors?keywords=general&zip="+b}}else{location.href="/find/contractors?keywords="+b}}else{$(this).next(".field").show()}}});$("#btn-location, #btn-contractor").on("click",function(){var a=$(this).attr("id").replace("btn","shortcut");var b=$("#"+a).val();if(b.length>0){$(this).next(".field").hide();str_key=func_clean_str(b);if(a=="shortcut-location"){location.href="/search//in/"+b}else{location.href="/find/contractors?keywords="+b}}else{$(this).next(".field").show()}});$("#btn-category").on("click",function(){func_shortsearch()});$('#frm-request [name="txt_service"],#frm-request [name="txt_zipcode"]').keydown(function(a){if(a.keyCode==13){a.preventDefault();func_postrequest()}});$("#frm-request").submit(function(){func_postrequest();return false});$("#head-submit").on("click",function(){if($("#txt_search_key").val().length<3){$("#mdl_search_input_error").modal("show");return false}$("#frm-headsearch").submit()});$("#txt_search_key").focus(function(){$(this).animate({width:198},1).css({"margin-right":"10px"});$("#txt_search_loc").show(1)});$("#txt_search_key").blur(function(){if($(this).val()!=""){return true}$(this).animate({width:348},1).css({"margin-right":"0"});$(this).animate({width:348},1).css({"margin-right":"0"});$("#txt_search_loc").hide(1)});$("#shortcut-category").focus(function(){$(this).animate({width:150},1).css({"margin-right":"10px"});$("#shortcut-category-zip").show(1)});$("#shortcut-category").blur(function(){if($(this).val()!=""){return true}$(this).animate({width:285},1).css({"margin-right":"0px"});$("#shortcut-category-zip").hide(1)});$(".browsedrop, .close-reveal-modal").on("click",function(){if($(".browsedrop").hasClass("dropable")){$(this).removeClass("dropable")}else{$(this).addClass("dropable");if($(".helpdrop").hasClass("dropable")){$(".helpdrop").click()}}$(".browse").addClass("posd").slideToggle()});$(".helpdrop").on("click",function(){if($(".helpdrop").hasClass("dropable")){$(this).removeClass("dropable")}else{$(this).addClass("dropable");if($(".browsedrop").hasClass("dropable")){$(".browsedrop").click()}}$(".helpdropped").slideToggle()});$(".bzw .tabs div a.btn-tab").on("click",function(a){var b=$(this).attr("href");a.preventDefault();$("#featured .tabs-content div.simpletab").removeClass("active");$("#featured .tabs-content div"+b).addClass("active");$("html,body").animate({scrollTop:$(b).offset().top},500);$(".bzw .tabs div").removeClass("active");$(this).parent("div").addClass("active");return false});$("ul.states li").on("click",function(){var a=$(this).attr("group");$("ul.states li").removeClass("selected");$(this).addClass("selected");$("section.areas").hide();$("#metro-"+a).show()});var i_scrll=0;$(".slider-nav span").on("click",function(){if($("#slideshow .bigimage").length>1){var a=$(this).attr("class");var c=$(".slideitem").length;var b=$("#slideshow").width();var d=i_scrll;if(a=="right"){d=i_scrll+b;if((c-1)*b<d){d=0}}else{d=i_scrll-b;if(d<=0){d=(c-1)*b}}$("#slideshow").animate({scrollLeft:d},"medium",function(){i_scrll=d})}});$(window).resize(function(){if(BrowserDetect.browser=="MSIE"&&parseInt($.browser.version)<9){var a=parseInt(screen.width)-parseInt(screen.width)*0.0124450951683748+"px";$("#slideshow, .slideitem, .bigimage").width(a)}else{adjustWidth("slideitem")}});$(document).ready(function(){init_drop();$('#frm-headsearch [name="txt_search_key"], #frm-headsearch [name="txt_search_loc"]').on("keydown",function(a){if(a.keyCode==13){a.preventDefault();func_headsearch();return false}})});var a_templates=["commercial-contractors.jpg","custom-home-builders.html","general-contractors-new-6.html","kitchen-remodeling.html","windows-blinds.jpg"];$("img[data-s_version]").each(function(){$(this).error(function(){swap_dead(this)})});$(".piccaption, .piccaptionsmall").on("click",function(){var a=$(this).find("a").attr("href");location.href=a});$("#browse-question").on("click",function(){location.href="../answers.buildzoom.com/questions.html";return false});load_areas();!function(a){var c=function(d,e){this.$element=a(d);this.options=a.extend({},a.fn.typeahead.defaults,e);this.matcher=this.options.matcher||this.matcher;this.sorter=this.options.sorter||this.sorter;this.highlighter=this.options.highlighter||this.highlighter;this.updater=this.options.updater||this.updater;this.source=this.options.source;this.$menu=a(this.options.menu);this.shown=false;this.listen()};c.prototype={constructor:c,select:function(){var d=this.$menu.find(".active").attr("data-value");this.$element.val(this.updater(d)).change();return this.hide()},updater:function(d){return d},show:function(){var d=a.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});this.$menu.insertAfter(this.$element).css({top:d.top+d.height,left:d.left}).show();this.shown=true;return this},hide:function(){this.$menu.hide();this.shown=false;return this},lookup:function(d){var e;this.query=this.$element.val();if(!this.query||this.query.length<this.options.minLength){return this.shown?this.hide():this}e=a.isFunction(this.source)?this.source(this.query,a.proxy(this.process,this)):this.source;return e?this.process(e):this},process:function(d){var e=this;d=a.grep(d,function(f){return e.matcher(f)});d=this.sorter(d);if(!d.length){return this.shown?this.hide():this}return this.render(d.slice(0,this.options.items)).show()},matcher:function(d){return ~d.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(d){var h=[],g=[],j=[],f;while(f=d.shift()){if(!f.toLowerCase().indexOf(this.query.toLowerCase())){h.push(f)}else{if(~f.indexOf(this.query)){g.push(f)}else{j.push(f)}}}return h.concat(g,j)},highlighter:function(d){var f=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return d.replace(new RegExp("("+f+")","ig"),function(g,h){return"<strong>"+h+"</strong>"})},render:function(d){var e=this;d=a(d).map(function(f,g){f=a(e.options.item).attr("data-value",g);f.find("a").html(e.highlighter(g));return f[0]});d.first().addClass("active");this.$menu.html(d);return this},next:function(e){var d=this.$menu.find(".active").removeClass("active"),f=d.next();if(!f.length){f=a(this.$menu.find("li")[0])}f.addClass("active")},prev:function(d){var g=this.$menu.find(".active").removeClass("active"),f=g.prev();if(!f.length){f=this.$menu.find("li").last()}f.addClass("active")},listen:function(){this.$element.on("focus",a.proxy(this.focus,this)).on("blur",a.proxy(this.blur,this)).on("keypress",a.proxy(this.keypress,this)).on("keyup",a.proxy(this.keyup,this));if(this.eventSupported("keydown")){this.$element.on("keydown",a.proxy(this.keydown,this))}this.$menu.on("click",a.proxy(this.click,this)).on("mouseenter","li",a.proxy(this.mouseenter,this)).on("mouseleave","li",a.proxy(this.mouseleave,this))},eventSupported:function(d){var f=d in this.$element;if(!f){this.$element.setAttribute(d,"return;");f=typeof this.$element[d]==="function"}return f},move:function(d){if(!this.shown){return}switch(d.keyCode){case 9:case 13:case 27:d.preventDefault();break;case 38:d.preventDefault();this.prev();break;case 40:d.preventDefault();this.next();break}d.stopPropagation()},keydown:function(d){this.move(d)},keypress:function(d){this.move(d)},keyup:function(d){switch(d.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 13:if(!this.shown){return}this.select();break;case 9:a("#txt_search_loc").focus();break;case 27:if(!this.shown){return}this.hide();break;default:this.lookup()}d.stopPropagation();d.preventDefault()},focus:function(d){this.focused=true},blur:function(d){this.focused=false;if(!this.mousedover&&this.shown){this.hide()}},click:function(d){d.stopPropagation();d.preventDefault();this.select();this.$element.focus()},mouseenter:function(d){this.mousedover=true;this.$menu.find(".active").removeClass("active");a(d.currentTarget).addClass("active")},mouseleave:function(d){this.mousedover=false;if(!this.focused&&this.shown){this.hide()}}};var b=a.fn.typeahead;a.fn.typeahead=function(d){return this.each(function(){var g=a(this),f=g.data("typeahead"),e=typeof d=="object"&&d;if(!f){g.data("typeahead",f=new c(this,e))}if(typeof d=="string"){f[d]()}})};a.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropped"></ul>',item:'<li><a href="#"></a></li>',minLength:1};a.fn.typeahead.Constructor=c;a.fn.typeahead.noConflict=function(){a.fn.typeahead=b;return this};a(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(d){var e=a(this);if(e.data("typeahead")){return}e.typeahead(e.data())})}(window.jQuery);$("#txt_search_key").typeahead({minLength:5,source:function(a,b){return $.ajax({url:"/ajax/lookahead",type:"post",data:{s_key:a},dataType:"json",success:function(c){var d=c.map(function(f){var g={i_nid:f.i_nid,s_name:f.s_business_name,s_zip:f.s_zip};return JSON.stringify(g)});return b(d)}})},matcher:function(a){var b=JSON.parse(a);return ~b.s_name.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(a){var d=[],c=[],f=[],b;while(aItem=a.shift()){var b=JSON.parse(aItem);if(!b.s_name.toLowerCase().indexOf(this.query.toLowerCase())){d.push(JSON.stringify(b))}else{if(~b.s_name.indexOf(this.query)){c.push(JSON.stringify(b))}else{f.push(JSON.stringify(b))}}}return d.concat(c,f)},highlighter:function(a){var c=JSON.parse(a);var b=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return c.s_name.replace(new RegExp("("+b+")","ig"),function(d,f){return"<strong>"+f+"</strong>"})},updater:function(a){var b=JSON.parse(a);$("#txt_search_key").val(b.s_name);$("#txt_search_loc").val(b.s_zip);func_headsearch();return b.s_name}});


$(function () {
  $.ajax({ url: "/widgets/header", complete: function( o_res, s_stats, o_xhr ){ load_navbar(o_res); } });
});

function load_navbar(o_res) {
  $('#rails').prepend( o_res.responseText );
  $(".close-reveal-modal").on("click", function () {
    $(".dropup").click()
  });
  $(".browsedrop").on("click", function (a) {
    a.preventDefault();
    if ($(this).hasClass("dropup")) {
      $(this).addClass("dropdown");
      $(this).removeClass("dropup")
    } else {
      $(this).addClass("dropup");
      $(this).removeClass("dropdown")
    }
    $(".browse").addClass("posd").slideToggle()
  });
  $(".helpdrop").click(function () {
    $(this).toggleClass("dropup")
  });
  $(".browse [group]").click(function () {
    group = $(this).attr("group");
    $("section.areas").hide();
    $("#metro-" + group).removeClass("hidden").fadeIn();
    $(this).siblings().removeClass("selected");
    $(this).addClass("selected")
  });
  $(".tab-btns > a").click(function (a) {
    a.preventDefault();
    $(this).siblings().removeClass("selected");
    $(this).addClass("selected");
    $("#browse.drop-tab").removeClass("tab-answers").removeClass("tab-gallery").addClass($(this).attr("href").split("#").join("tab-"));
    $(".browseareas,#browse #gallery,#browse #answers").hide();
    $("#browse " + $(this).attr("href")).fadeIn()
  });
}